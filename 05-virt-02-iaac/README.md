
# Домашнее задание к занятию "5.2. Применение принципов IaaC в работе с виртуальными машинами"


---

## Задача 1

- Опишите своими словами основные преимущества применения на практике IaaC паттернов.
1. Непрерывная интеграция (CI) направлена на автоматизацию интеграции изменений кода от нескольких участников в единый программный проект,
позволяет разработчикам регулярно объединять изменения кода в центральном репозитории, где затем автоматически выполняется сборка, тестирование 
и подготовка к запуску ПО. В основе процесса CI лежит система управления версиями исходного кода. 
Главная задача непрерывной интеграции – быстрее находить и исправлять ошибки, улучшать качество ПО и сокращать временные затраты на проверку и 
выпуск новых обновлений ПО.
2. Непрерывная доставка (CD) является естественным продолжением паттерна неприрывной интеграции. На этом этапе, при любых изменениях в программном 
коде, происходит автоматическая сборка, тестирование и подготовка к окончательному выпуску ПО. Все изменения кода после стадии сборки развертываются 
в тестовой или имитационной среде. При правильном внедрении у разработчиков всегда будет готовый к развертыванию собранный экземпляр ПО, прошедший 
стандартизированную процедуру тестирования. Развертывание обновлений в рабочей среде происходит вручную.
3. Непрерывное развертывание (CD). При использовании этого паттерна, обновления подготовленные и собранные на стадии непрерывной доставки автоматически 
разворачиваются в рабочей среде.
 
- Какой из принципов IaaC является основополагающим?
*Принцип идемпотентности* разворачиваемой виртуальной инфраструктуры является основополагающим. Это означает, что с помощью кода определяется желаемое 
состояние инфраструктуры, и независимо от того, сколько раз мы завпускаем скрипт, разворачивающий код, результат будет одинаковым. Скрипт накатывает 
только изменения инфраструктуры, приводя ее в требуемое состояние, и это состояние неизменится, сколько бы скрипт не выполнялся.

---

## Задача 2

- Чем Ansible выгодно отличается от других систем управления конфигурациями?
Является безагентным и безмастерным, позволяет использовать уже имеющийся на большинстве серверов способ аунтификации - SSH-аунтификацию.

- Какой, на ваш взгляд, метод работы систем конфигурации более надёжный push или pull?
На мой взгляд, метод push является более надежным. Он дает хорошую обратную связь при внесении изменений в кодовую базу, позволяет своевременно 
накатывает важные обновления, которые попали в мастер-ветку.

---

## Задача 3

Установить на личный компьютер:

- VirtualBox
```
sudo apt install virtualbox virtualbox-ext-pack

~$ vboxmanage --version
6.1.26_Ubuntur145957
```

- Vagrant
```
~$ curl -fsSL https://apt.releases.hashicorp.com/gpg | sudo apt-key add -
~$ sudo apt-add-repository "deb [arch=amd64] https://apt.releases.hashicorp.com $(lsb_release -cs) main"
~$ sudo apt-get update && sudo apt-get install vagrant

~$ vagrant --version
Vagrant 2.2.19
```

- Ansible
```
~$ sudo apt install software-properties-common
~$ sudo add-apt-repository --yes --update ppa:ansible/ansible
~$ sudo apt install ansible

~$ ansible --version
ansible [core 2.12.1]
  config file = /etc/ansible/ansible.cfg
  configured module search path = ['/home/uadmin/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python3/dist-packages/ansible
  ansible collection location = /home/uadmin/.ansible/collections:/usr/share/ansible/collections
  executable location = /usr/bin/ansible
  python version = 3.8.10 (default, Nov 26 2021, 20:14:08) [GCC 9.3.0]
  jinja version = 2.10.1
  libyaml = True
```

---

## Задача 4 (*)

Воспроизвести практическую часть лекции самостоятельно.

- Создать виртуальную машину.
- Зайти внутрь ВМ, убедиться, что Docker установлен с помощью команды
```
vagrant@server1:~$ docker ps
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
```